import React from 'react';
import {
  Table,
  TableBody,
  TableCell,
  TableContainer,
  TableHead,
  TableRow,
  Paper,
} from '@mui/material';
import '../pages/styles.css';

const TableComponent = ({ data }) => {
  const malwareOverview = data?.malwareData?.[0]?.overview || {};

  const blinkClass = !Object.keys(data).length ? 'blink' : '';

  return (
    <TableContainer component={Paper} className={blinkClass}>
      <Table sx={{ minWidth: 650 }} aria-label="simple table">
        <TableHead>
          <TableRow sx={{ backgroundColor: '#3aba2f' }}>
            <TableCell sx={{ width: '30%', borderRight: '1px solid grey', color: 'white' }}>
              Title
            </TableCell>
            <TableCell sx={{ width: '70%', color: 'white' }}>Data</TableCell>
          </TableRow>
        </TableHead>
        <TableBody>
          {[
            { label: 'Malware Name', value: malwareOverview.malwareName },
            { label: 'Malware Type', value: malwareOverview.malwareType },
            { label: 'Author/Group', value: malwareOverview.authorOrGroup },
            { label: 'Behavioral Analysis', value: malwareOverview.behavioralAnalysis },
            { label: 'Detection Methods', value: malwareOverview.detectionMethods },
            { label: 'Historical Context', value: malwareOverview.historicalContext },
            { label: 'Impact', value: malwareOverview.impact },
            { label: 'Infection Vector', value: malwareOverview.infectionVector },
            { label: 'Mitigation And Removal', value: malwareOverview.mitigationAndRemoval },
            { label: 'Notable Incidents', value: malwareOverview.notableIncidents },
            { label: 'Prevention Methods', value: malwareOverview.preventionMethods },
            { label: 'Propagation Mechanism', value: malwareOverview.propagationMechanism },
            { label: 'Target System', value: malwareOverview.targetSystem },
            { label: 'Variants', value: malwareOverview.variants },
          ].map((row, index) => (
            <TableRow key={index}>
              <TableCell sx={{ width: '30%', borderRight: '1px solid grey'}}>
                {row.label}
              </TableCell>
              <TableCell sx={{ width: '70%' }}>
                {row.value || ''}
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </TableContainer>
  );
};

export default TableComponent;
